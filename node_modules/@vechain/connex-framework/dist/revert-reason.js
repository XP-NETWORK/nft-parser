"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decodeRevertReason = void 0;
const thor_devkit_1 = require("thor-devkit");
// https://solidity.readthedocs.io/en/v0.5.5/control-structures.html#error-handling-assert-require-revert-and-exceptions
// 0x08c379a0
// Function selector for Error(string)
const errorSig = '0x08c379a0';
function decodeRevertReason(data) {
    try {
        if (data.startsWith(errorSig)) {
            return thor_devkit_1.abi.decodeParameter('string', '0x' + data.slice(errorSig.length));
        }
        return '';
    }
    catch (_a) {
        return '';
    }
}
exports.decodeRevertReason = decodeRevertReason;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV2ZXJ0LXJlYXNvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9yZXZlcnQtcmVhc29uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZDQUFpQztBQUVqQyx3SEFBd0g7QUFDeEgsYUFBYTtBQUNiLHNDQUFzQztBQUV0QyxNQUFNLFFBQVEsR0FBRyxZQUFZLENBQUE7QUFFN0IsU0FBZ0Isa0JBQWtCLENBQUMsSUFBWTtJQUMzQyxJQUFJO1FBQ0EsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzNCLE9BQU8saUJBQUcsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBVyxDQUFBO1NBQ3JGO1FBQ0QsT0FBTyxFQUFFLENBQUE7S0FDWjtJQUFDLFdBQU07UUFDSixPQUFPLEVBQUUsQ0FBQTtLQUNaO0FBQ0wsQ0FBQztBQVRELGdEQVNDIn0=